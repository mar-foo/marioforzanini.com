<h1>Ripasso</h1>
<p>Nelle scorse lezioni ci siamo concentrati su 3 concetti:</p>
<ol>
<li>Variabili</li>
<li>if/else</li>
<li>Cicli for</li>
</ol>
<p>Questi tre componenti sono sufficienti per scrivere qualsiasi
programma Go, ma non rappresentano tutto l'arsenale messo a
disposizione dal linguaggio.  Scrivere programmi complessi con questi
strumenti è scomodo e sconsigliato: occorre la possibilità di
organizzare meglio il codice.</p>
<h1>Pacchetti</h1>
<p>I <strong>pacchetti</strong> sono una maniera di
strutturare il codice: un programma è
costruito come un pacchetto e può usare
strumenti messi a disposizione da altri
pacchetti.</p>
<p>Ogni file appartiene ad un solo pacchetto,
indicato alla prima riga con la parola chiave
<strong>package</strong>, ed ogni pacchetto può essere
composto da più file.Tutte le applicazioni Go
contengono un pacchetto chiamato
<strong>main</strong>.</p>
<p>Un programma Go viene costruito collegando
un set di pacchetti attraverso la parola
chiave <strong>import</strong>.  Quando nei nostri
programmi scrivevamo</p>
<pre><code>import &quot;fmt&quot;</code></pre>
<p>Stavamo indicando che il nostro programma
aveva bisogno degli strumenti messi a
disposizione del pacchetto <em>"fmt"</em> (che
contiene funzionalità di Input/Output).  Ogni
pacchetto può essere richiamato in uno
statement separato:</p>
<pre><code>import &quot;fmt&quot;
import &quot;os&quot;</code></pre>
<p>Oppure in una maniera più sintetica:</p>
<pre><code>import (
	&quot;fmt&quot;
	&quot;os&quot;
)</code></pre>
<p>Go mette a disposizione una serie di <strong>pacchetti</strong> (in altri linguaggi
sono anche chiamate <em>librerie</em>) che implementano funzionalità utili:
il protocollo HTTP (per i server web), lettura e scrittura da file,
operazioni sulle stringhe (capitalizzazione, ricerca di
sottostringhe...), funzioni matematiche (seno, coseno, potenze,
radici...) ecc.</p>
<p>Dopo gli <strong>import</strong> si possono dichiarare delle costanti (<strong>const</strong>) o
variabili (<strong>var</strong>), questi identificatori sono <em>globali</em>, ovvero sono
disponibili in tutto il pacchetto.</p>
<h2>Visibilità</h2>
<p>Quando un identificatore (variabile, costante...) inizia con la
lettera <strong>maiuscola</strong>, l'oggetto a cui si riferisce è visibile fuori
dal pacchetto (viene <strong>esportato</strong>). Gli identificatori che iniziano
con la lettera minuscola sono visibili soltanto nel pacchetto in cui
sono definiti.</p>
<h2>Accedere agli oggetti esportati</h2>
<p>Supponendo di aver importato un pacchetto <code>pkg</code> che contiene un
simbolo <code>Simbolo</code>, ci si può riferire a <code>Simbolo</code> con la notazione
<code>pkg.Simbolo</code>. Questo permette di non avere conflitti tra
identificatori uguali definiti in pacchetti differenti.</p>
<h1>Funzioni</h1>
<p>Nei nostri programmi abbiamo già avuto modo di utilizzare delle
<strong>funzioni</strong>, per esempio <code>fmt.Print</code> oppure <code>fmt.Scan</code> (entrambe
dal pacchetto fmt).</p>
<p>In Go una funzione è un oggetto che accetta degli argomenti in input e
usa quegli argomenti per fare qualcosa.</p>
<p>Questa definizione è volutamente vaga, poichè lo spettro di azioni
possibili con una funzione è molto ampio:</p>
<ol>
<li>Stampare oggetti (<code>fmt.Print</code>)</li>
<li>Leggere valori ed inserirli in una (o più) variabili (<code>fmt.Scan</code>)</li>
<li>Leggere un numero e restituirne la potenza di 10 corrispondente (<code>math.Pow10</code>)</li>
</ol>
<p>Inoltre una funzione può restituire dei valori in output, per esempio
<code>math.Pow10</code> accetta in input un valore <code>float64</code> e restituisce un
valore <code>float64</code>.</p>
<p>La parola chiave per dichiarare una nuova funzione è <strong>func</strong> e la sintassi è la seguente:</p>
<pre><code>func nomeFunzione(lista_parametri) (lista_valori_output) {
	// Codice
}</code></pre>
<p>Dove</p>
<ul>
<li><em>nomeFunzione</em> è l'identificatore che servirà a richiamare la funzione (come <code>Print</code> per <code>fmt.Print</code>)</li>
<li><em>lista_parametri</em> è la lista di valori che la funzione accetta in input con i loro tipi</li>
<li><em>lista<em>valori</em>output</em> è la lista di valori che la funzione restituisce come output, con i loro tipi</li>
</ul>
<h2>Esempio</h2>
<p>Una funzione che calcola la media di due numeri può essere scritta così:</p>
<pre><code>func media(primo float64, secondo float64) float64 {
	return (primo + secondo) / 2
}</code></pre>
<p>La parola chiave <strong>return</strong> ferma l'esecuzione della funzione dando in
output <code>(primo + secondo) / 2</code>.</p>
<p>Questa funzione può essere usata per scrivere un programma che calcola
la media di due numeri letti dall'utente:</p>
<pre><code>package main
import &quot;fmt&quot;</code></pre>
<pre><code>func main() {
	var x, y float64
	fmt.Print(&quot;Inserire due numeri: &quot;)
	fmt.Scan(&amp;x, &amp;y)
	fmt.Println(&quot;Media: &quot;, media(x, y))
	return
}</code></pre>
<pre><code>func media(primo float64, secondo float64) float64 {
	return (primo + secondo) / 2
}</code></pre>
<h2>NB:</h2>
<p>I nomi dei parametri <code>primo</code> e <code>secondo</code> non c'entrano nulla con i
nomi delle variabili che vengono ricevute in input: quando la funzione
viene chiamata, per esempio nella funzione <code> main()</code>, i valori di
input vengono semplicemente copiati dentro due variabili locali alla
funzione chiamate <code>primo</code> e <code>secondo</code> <code></code>.</p>
<h1>Documentazione</h1>
<p>Go fornisce uno strumento molto utile per navigare nella
documentazione dei pacchetti standard, si tratta del programma <code>go
doc</code> che accetta come argomento il nome di un simbolo o di un
pacchetto e ne stampa la documentazione. Ad esempio per vedere la
documentazione di <code>fmt.Println</code>:</p>
<pre><code>go doc fmt.Println</code></pre>
<p>Oppure per vedere la documentazione del pacchetto <code>fmt</code> (compresa la
lista di simboli esportati dal pacchetto):</p>
<pre><code>go doc fmt</code></pre>
<h1>Esercizi</h1>
<h2>Esercizio 0 - Euclide</h2>
<p>Riscrivete l'<a href="programmazione6.html">Esercizio 2 della scorsa lezione</a> utilizzando
una funzione <code>euclide</code> che accetti in input due numeri interi e ne restituisca l'MCD utilizzando l'algoritmo di Euclide.</p>
<h2>Esercizio 1 - Slash</h2>
<p>Riscrivete l'<a href="programmazione6.html">Esercizio 5 della scorsa lezione</a> utilizzando
una funzione "slash". Quali argomenti avrà questa funzione? Quali valori restituisce?</p>
<h2>Esercizio 2 - Rettangolo</h2>
<p><em>Problema</em>: Scrivere un programma <a href="rettangolo.go">rettangolo.go</a> che legge due interi positivi <code>n</code> e
<code>m</code> e stampa un rettangolo di base <code>n</code> e altezza <code>m</code> asterischi. L'implementazione deve
contenere una funzione chiamata "rettangolo" che si occupi di disegnare la  figura.</p>
<p><em>Esempi di esecuzione</em>:</p>
<p>Base: <strong>5</strong></p>
<p>Altezza: <strong>4</strong></p>
<pre><code>*****
*****
*****
*****</code></pre>
<h3>Soluzione</h3>
<pre><code>package main

import &quot;fmt&quot;

func main() {
	var base, altezza int
	fmt.Print(&quot;Base: &quot;)
	fmt.Scan(&amp;base)

	fmt.Print(&quot;Altezza: &quot;)
	fmt.Scan(&amp;altezza)

	rettangolo(base, altezza)
	return
}

func rettangolo(base, altezza int) {
	for i := 0; i &lt; altezza; i++ {
		for j := 0; j &lt; base; j++ {
			fmt.Print(&quot;*&quot;)
		}
		fmt.Println()
	}
}</code></pre>
<h2>Esercizio 3 - Legge oraria</h2>
<p><em>Problema</em>: Scrivere un programma <a href="legge_oraria.go">legge_oraria.go</a> che accetti in input 4 parametri:</p>
<ul>
<li>Velocità</li>
<li>Posizione al tempo 0</li>
<li>Tempo iniziale t₀</li>
<li>Tempo finale t₁</li>
</ul>
<p>e stampi una tabella delle posizioni del corpo soggetto alla legge oraria:</p>
<pre><code>s = s₀ + v * t</code></pre>
<p>di secondo in secondo nell'intervallo <code>t₀ ≤ t ≤ t₁</code></p>
<p><em>Esempi di esecuzione</em>:</p>
<p>Velocità: <strong>5</strong></p>
<p>s₀: <strong>1</strong></p>
<p>t₀: <strong>10</strong></p>
<p>t₁: <strong>20</strong></p>
<pre><code>t   s
10  51
11  56
12  61
13  66
14  71
15  76
16  81
17  86
18  91
19  96
20  101</code></pre>
<h3>Soluzione</h3>
<pre><code>package main

import &quot;fmt&quot;

func main() {
	var speed, s0, t0, t1 float64

	fmt.Print(&quot;Velocità: &quot;)
	fmt.Scan(&amp;speed)

	fmt.Print(&quot;s0: &quot;)
	fmt.Scan(&amp;s0)

	fmt.Print(&quot;t0: &quot;)
	fmt.Scan(&amp;t0)

	fmt.Print(&quot;t1: &quot;)
	fmt.Scan(&amp;t1)

	fmt.Println(&quot;t\ts&quot;)
	for t := t0; t &lt;= t1; t++ {
		fmt.Printf(&quot;%d\t%d&quot;, t, mru(speed, s0, t))
	}
	return
}

func mru(speed, s0, t float64) float64 {
	return s0 + speed * t
}</code></pre>
<h2>Esercizio 4 - Piano inclinato</h2>
<p><em>Problema</em>: Scrivere un programma <a href="piano_inclinato.go">piano_inclinato.go</a> che legga 2 parametri:</p>
<ul>
<li>Massa <code>m</code></li>
<li>Angolo alla base <code>α</code></li>
</ul>
<p>e calcoli la forza necessaria a mantenere in equilibrio un corpo di
massa <code>m</code> su un piano inclinato <code>α</code> gradi rispetto al suolo.
Trascurate ogni attrito.</p>
<p><em>Esempi di esecuzione</em>:</p>
<p>Massa: <strong>14.2</strong></p>
<p>Angolo alla base: <strong>45</strong></p>
<p>Forza necessaria: 10.04</p>
<p><em>Nota</em>: Go fornisce funzioni che calcolano seno, coseno, tangente ... di angoli espressi in radianti. Per trasformare un angolo da gradi a radianti è sufficiente questa proporzione:</p>
<pre><code>π rad : 360° = x rad : α °</code></pre>
<p>se <code>x</code> è l'angolo in radianti e α l'angolo in gradi. Perciò:</p>
<pre><code>x = (α * π) / 360</code></pre>
<p>il valore π si trova nella costante <code>math.Pi</code>.</p>
<p><em>Consiglio</em>: Provate il comando <code>go doc math</code></p>
